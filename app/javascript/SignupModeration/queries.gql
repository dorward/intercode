#import '../EventsApp/EventPage/queries.gql'

query CreateSignupEventsQuery($title: String) {
  convention {
    id
    events_paginated(filters: { title: $title }, per_page: 50) {
      entries {
        id
        title
        length_seconds
        private_signup_list

        runs {
          id
          starts_at
          title_suffix

          rooms {
            id
            name
          }
        }
      }
    }
  }
}

query CreateSignupRunCardQuery($userConProfileId: Int!, $eventId: Int!) {
  currentAbility {
    can_read_event_signups(event_id: $eventId)
  }

  event(id: $eventId) {
    id
    title
    length_seconds
    private_signup_list

    registration_policy {
      ...RunCardRegistrationPolicyFields
    }

    team_members {
      id
      user_con_profile {
        id
      }
    }

    runs {
      id
      starts_at
      title_suffix
      signup_count_by_state_and_bucket_key_and_counted

      rooms {
        id
        name
      }
    }
  }

  userConProfile(id: $userConProfileId) {
    id
    name_without_nickname

    signups {
      id
      state
      waitlist_position

      run {
        id
      }
    }
  }
}
